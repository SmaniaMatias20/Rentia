<!-- OVERLAY -->
<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/90" (click)="cancel.emit()">

    <!-- MODAL -->
    <div class="bg-gray-900 text-white w-full max-w-md rounded-xl p-6 shadow-2xl relative"
        (click)="$event.stopPropagation()">

        <h2 class="text-xl font-semibold mb-4">
            Editar Inquilino
        </h2>

        <form [formGroup]="form" (ngSubmit)="submit()" class="space-y-4">


            <!-- USERNAME -->
            @if (type === 'username') {
            <div>
                <input type="text" formControlName="value" placeholder="Nombre de usuario"
                    class="w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" />

                <div class="min-h-[1.25rem]">
                    @if (form.get('username')?.invalid && (form.get('username')?.dirty ||
                    form.get('username')?.touched)) {
                    <p class="text-sm text-red-500 mt-1">
                        El nombre es obligatorio (mínimo 3 caracteres)
                    </p>
                    }
                </div>
            </div>
            }

            <!-- PHONE -->
            @if (type === 'phone') {
            <div>
                <input type="text" formControlName="value" placeholder="Teléfono"
                    class="w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" />

                <div class="min-h-[1.25rem]">
                    @if (form.get('phone')?.invalid && (form.get('phone')?.dirty || form.get('phone')?.touched)) {
                    <p class="text-sm text-red-500 mt-1">
                        Teléfono inválido
                    </p>
                    }
                </div>
            </div>
            }

            <!-- EMAIL -->
            @if (type === 'email') {
            <div>
                <input type="email" formControlName="value" placeholder="Email"
                    class="w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" />

                <div class="min-h-[1.25rem]">
                    @if (form.get('email')?.invalid && (form.get('email')?.dirty || form.get('email')?.touched)) {
                    <p class="text-sm text-red-500 mt-1">
                        Email inválido
                    </p>
                    }
                </div>
            </div>
            }

            <!-- FIRSTNAME -->
            @if (type === 'firstname') {
            <div>
                <input type="text" formControlName="value" placeholder="Nombre"
                    class="w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" />

                <div class="min-h-[1.25rem]">
                    @if (form.get('firstname')?.invalid && (form.get('firstname')?.dirty ||
                    form.get('firstname')?.touched)) {
                    <p class="text-sm text-red-500 mt-1">
                        Nombre inválido
                    </p>
                    }
                </div>
            </div>
            }

            <!-- LASTNAME -->
            @if (type === 'lastname') {
            <div>
                <input type="text" formControlName="value" placeholder="Apellido"
                    class="w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" />

                <div class="min-h-[1.25rem]">
                    @if (form.get('lastname')?.invalid && (form.get('lastname')?.dirty ||
                    form.get('lastname')?.touched)) {
                    <p class="text-sm text-red-500 mt-1">
                        Apellido inválido
                    </p>
                    }
                </div>
            </div>
            }

            <!-- DOCUMENT -->
            @if (type === 'document') {
            <div>
                <input type="text" formControlName="value" placeholder="Documento"
                    class="w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" />

                <div class="min-h-[1.25rem]">
                    @if (form.get('document')?.invalid && (form.get('document')?.dirty ||
                    form.get('document')?.touched)) {
                    <p class="text-sm text-red-500 mt-1">
                        Documento inválido
                    </p>
                    }
                </div>
            </div>
            }

            <!-- CUIT -->
            @if (type === 'cuit') {
            <div>
                <input type="text" formControlName="value" placeholder="CUIT"
                    class="w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" />

                <div class="min-h-[1.25rem]">
                    @if (form.get('cuit')?.invalid && (form.get('cuit')?.dirty || form.get('cuit')?.touched)) {
                    <p class="text-sm text-red-500 mt-1">
                        CUIT inválido
                    </p>
                    }
                </div>
            </div>
            }

            <!-- BOTONES -->
            <div class="flex justify-end gap-2 pt-4">

                <button type="button" (click)="cancel.emit()"
                    class="px-4 py-2 rounded-lg bg-gray-700 hover:bg-gray-600 transition cursor-pointer">
                    Cancelar
                </button>

                <button type="submit" [disabled]="form.invalid"
                    class="px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 disabled:opacity-50 transition cursor-pointer">
                    Guardar
                </button>

            </div>

        </form>
    </div>
</div>