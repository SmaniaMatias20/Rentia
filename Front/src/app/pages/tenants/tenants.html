<div class="min-h-[calc(100vh-4rem)] w-screen bg-black px-4 relative border">


    @if (loading) {
    <div class="fixed inset-0 flex justify-center items-center bg-black bg-opacity-50 z-50">
        <app-spinner></app-spinner>
    </div>
    }


    @if (!loading) {
    <!-- Contenedor de botones arriba a la derecha -->
    <div class="absolute top-4 right-4 z-20
    flex flex-col gap-2
    sm:flex-row sm:gap-3">

        <!-- Filtro de inquilinos activos/inactivos -->
        <div class="flex items-center gap-2">
            <span class="material-icons text-gray-400">filter_list</span>
            <select class="
                flex-1 p-2 rounded-lg bg-blue-600 hover:bg-blue-700
                text-white font-semibold transition cursor-pointer
              " [(ngModel)]="filter" (ngModelChange)="onFilterChange()">
                <option value="all">Todos</option>
                <option value="active">Activos</option>
                <option value="inactive">Inactivos</option>
            </select>
        </div>

        <!-- Nuevo inquilino -->
        <button class="
      flex items-center justify-center gap-1
      py-2 px-4
      w-full sm:w-auto text-white font-semibold
      rounded-lg bg-green-600 hover:bg-green-700
      disabled:bg-green-400 disabled:cursor-not-allowed cursor-pointer
      " (click)="openFormTenant()">
            <span class="material-icons">add</span>
            Nuevo inquilino
        </button>

        <!-- Volver al menú -->
        <button class="
      flex items-center justify-center gap-1
      py-2 px-4
      w-full sm:w-auto
      rounded-lg bg-blue-600 hover:bg-blue-700
      disabled:bg-blue-400 disabled:cursor-not-allowed
      text-white font-semibold transition cursor-pointer
      " (click)="goToHome()">
            <span class="material-icons">arrow_back</span>
            Volver al menú
        </button>
    </div>

    @if (tenants.length > 0) {
    <div class="pt-24">
        <div class="
    grid
    grid-cols-1
    sm:grid-cols-2
    lg:grid-cols-3
    gap-6
    w-full
    max-w-screen
    mx-auto
    p-4
  ">
            @for (tenant of tenants; track tenant.id) {
            <app-card-tenant icon="person" title="{{tenant.username}}" bgColor="bg-green-600"
                backgroundImage="url('assets/images/tenant.jpg')" [tenant]="tenant"
                (isEnabled)="isTenantEnabled($event)" url="/tenants/{{tenant.id}}"></app-card-tenant>
            }
        </div>
    </div>
    }

    <!-- Formulario para crear nuevo inquilino -->
    @if (formTenant) {
    <app-form-tenant (closeForm)="formTenant = false" (createTenant)="onTenantCreated()">></app-form-tenant>
    }
    }

    <!-- Toast -->
    <app-toast #toast></app-toast>

</div>