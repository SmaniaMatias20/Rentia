<div class="max-w-screen bg-black px-4 relative border">

  @if (loading) {
  <div class="fixed inset-0 flex justify-center items-center bg-black bg-opacity-50 z-50">
    <app-spinner></app-spinner>
  </div>
  }


  <div class="
    absolute top-4 right-4 z-20
    flex flex-col gap-2
    sm:flex-row sm:gap-3
  ">
    <!-- Volver al menú -->
    <button class="
      flex items-center justify-center gap-1
      py-2 px-4
      w-full sm:w-auto
      rounded-lg bg-blue-600 hover:bg-blue-700
      disabled:bg-blue-400 disabled:cursor-not-allowed
      text-white font-semibold transition cursor-pointer
    " (click)="goToHome()">
      <span class="material-icons">arrow_back</span>
      Volver al menú
    </button>
  </div>

  <div class="w-full max-w-md
             bg-gray-900 text-white
             rounded-2xl shadow-xl
             border border-white/10
             p-6">

    <!-- Avatar -->
    <div class="flex justify-center -mt-20">
      <img class="w-32 h-32 rounded-full border-4 border-blue-600 object-cover bg-gray-800"
        [src]="currentUser.image_url || 'assets/images/default-avatar.png'" alt="Avatar" />
    </div>

    <!-- Info -->
    <div class="text-center mt-4">
      <h2 class="text-2xl font-bold">
        {{ currentUser.username }}
      </h2>

      <span class="inline-block mt-1 px-3 py-1 text-sm rounded-full
                 bg-blue-600/20 text-blue-400">
        {{ currentUser.role === 'owner' ? 'Propietario' : 'Inquilino' }}
      </span>
    </div>

    <!-- Datos -->
    <div class="mt-6 space-y-4 text-sm">
      <div class="flex items-center gap-3 text-gray-300">
        <span class="material-icons text-blue-400">email</span>
        <span>{{ currentUser.email }}</span>
      </div>

      <div class="flex items-center gap-3 text-gray-300">
        <span class="material-icons text-blue-400">badge</span>
        <span>Rol del sistema</span>
      </div>

      <!-- Cantidad de propiedades -->
      <div class="bg-gray-800 rounded-xl p-4 border border-white/10">
        <div class="flex items-center gap-3 text-gray-300">
          <span class="material-icons text-green-400">home</span>
          <span class="text-sm">Propiedades</span>
        </div>
        <p class="mt-2 text-2xl font-bold text-white">12</p>
      </div>

      <!-- Cantidad de inquilinos -->
      <div class="bg-gray-800 rounded-xl p-4 border border-white/10">
        <div class="flex items-center gap-3 text-gray-300">
          <span class="material-icons text-emerald-400">people</span>
          <span class="text-sm">Inquilinos</span>
        </div>
        <p class="mt-2 text-2xl font-bold text-white">9</p>
      </div>

      <!-- Valor total de alquileres -->
      <div class="bg-gray-800 rounded-xl p-4 border border-white/10 col-span-2">
        <div class="flex items-center gap-3 text-gray-300">
          <span class="material-icons text-rose-400">payments</span>
          <span class="text-sm">Valor total de alquileres</span>
        </div>
        <p class="mt-2 text-2xl font-bold text-white">$ 2.450.000</p>
      </div>

      <!-- Promedio de alquiler -->
      <div class="bg-gray-800 rounded-xl p-4 border border-white/10">
        <div class="flex items-center gap-3 text-gray-300">
          <span class="material-icons text-indigo-400">analytics</span>
          <span class="text-sm">Promedio alquiler</span>
        </div>
        <p class="mt-2 text-2xl font-bold text-white">$ 272.000</p>
      </div>

      <!-- Propiedades ocupadas -->
      <div class="bg-gray-800 rounded-xl p-4 border border-white/10">
        <div class="flex items-center gap-3 text-gray-300">
          <span class="material-icons text-blue-400">check_circle</span>
          <span class="text-sm">Ocupadas</span>
        </div>
        <p class="mt-2 text-2xl font-bold text-white">8</p>
      </div>

      <!-- Propiedades vacías -->
      <div class="bg-gray-800 rounded-xl p-4 border border-white/10 col-span-2">
        <div class="flex items-center gap-3 text-gray-300">
          <span class="material-icons text-yellow-400">error_outline</span>
          <span class="text-sm">Propiedades vacías</span>
        </div>
        <p class="mt-2 text-2xl font-bold text-white">4</p>
      </div>
    </div>


    <app-toast #toast></app-toast>

  </div>